import student.TestCase;

public class HashTableTest extends TestCase {
	private HashTable<String, Handle> hashtable;

	public void setUp() {
		this.hashtable = new HashTable<>(12);
	}

	public void testBasic() {
		assertEquals(12, hashtable.getHashSize());
		assertEquals(0, hashtable.getCurrSize());
	}

	public void testAdd() {
		this.hashtable.add("khanhcuong", new Handle(10, 0));
		this.hashtable.add("khanhoutplay", new Handle(12, 5));
		this.hashtable.add("khanhcuong", new Handle(10, 0));
		this.hashtable.add("khanhoutplay", new Handle(12, 5));
		assertEquals(this.hashtable.getCurrSize(), 2);
		this.hashtable.delete("khanhoutplay");
		assertEquals(this.hashtable.getCurrSize(), 1);
		assertNotNull(this.hashtable.get("khanhcuong"));
		assertNull(this.hashtable.get("khanh"));
		this.hashtable.add("khanh", new Handle(5, 0));
		this.hashtable.add("khanhcu", new Handle(7, 0));
		this.hashtable.add("khanhcuo", new Handle(8, 0));
		this.hashtable.add("khanhc", new Handle(6, 0));
		this.hashtable.add("khanh1", new Handle(6, 0));
		this.hashtable.add("khanhpro", new Handle(8, 0));
		this.hashtable.add("khanhvip", new Handle(8, 0));
		assertEquals(24, hashtable.getHashSize());
		hashtable.dump();
		assertEquals(
				"|khanhcuong| is added to "
				+ "the Name database.\n" + "|khanhoutplay| "
						+ "is added to the Name database.\n"
						+ "|khanhcuong| duplicates a record already in " 
						+ "the Name database.\n"
						+ "|khanhoutplay| duplicates a record already " 
						+ "in the Name database.\n"
						+ "|khanhoutplay| has been deleted from the " 
						+ "Name database.\n"
						+ "|khanh| is added to the Name database.\n" 
						+ "|khanhcu| is added to the Name database.\n"
						+ "|khanhcuo| is added to the Name database.\n" 
						+ "|khanhc| is added to the Name database.\n"
						+ "|khanh1| is added to the Name database.\n" 
						+ "Name hash table size doubled to 24 slots.\n"
						+ "|khanhpro| is added to the Name database.\n" 
						+ "|khanhvip| is added to the Name database.\n"
						+ "|khanhc|3\n" 
						+ "|khanh|4\n" 
						+ "|khanhcu|7\n" 
						+ "|khanhcuong|9\n" 
						+ "|khanhvip|11\n"
						+ "|khanhcuo|12\n" 
						+ "|khanh1|19\n" 
						+ "|khanhpro|20\n" 
						+ "Total records: 8\n",
				systemOut().getHistory());

	}

}
